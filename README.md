# Шпаргалка
----
# Терминал
----
### __Навигация__
* `pwd` - покажи в какой я папке;
* `ls` - покажи файлы и папки в текущей папке;
* `ls -a` - покажи также скрытые файлы и папки, названия которых начинается с символа `.`;
* `cd first-project` - перейди в папку `first-project`;
* `cd first-project/html` - перейди в папку `html`, которая находится в папке `first-project`;
* `cd "Фотографии с Дня Рождения"` - если в названии папки есть пробелы, при вооде нужно использовать кавычки;
* `cd ..` - перейди на уровень выше, в родительскую папку; 
* `cd ~` - перейди в домашнюю директорию (`/User/UserName`);
* `cd /` - перейди в корневую директорию.

### __Работа с файлами и папками__

#### *Создание*
* `touch index.html` - создай файл `index.html` в текущей папке;
* `touch index.html style.css script.js` - если нужно создать сразу несколько файлов,
можно напечатать их имена в одну строку через пробел;
* `mkdir second-project` - создай папку с именем `second-project` в текущей папке.

#### *Копирование и перемещение*
* `cp file.txt ~/my-dir` - скопируй файл в другое место;
* `mv file.txt ~/my-dir` - перемести файл или папку в другое место;

#### *Чтение*
* `cat file.txt` - распечатай содержимое текстового файла `file.txt`

#### *Удаление*
* `rm about.html` - удали файл `about.html`;
* `rmdir images` - удали папку `images`;
* `rm -r second-project` - удали папку `second-project` и все, что она содержит;

### __Полезные возможности__
* Команды необязательно печатать и выполнять по очереди. 
Можно указать их списком - разделить двумя амперсандами(`&&`).
* У констоли есть собственная память - буфер с несколькими последними командами.
По ним можно перемещаться с помощью клавиш со стрелками вверх (`↑`) и вниз (`↓`).
* Чтобы не вводить название файла или папки полность, можно набрать первые символы имени
и дважды нажать `Tab`. Если файл или папка есть в текущей директории, командная строка
допишет путь сама.

>Например, вы находитесь в папке `dev`. Начните вводить `cd first` и дважды нажмите `Tab`.
>Если папка `first-project` есть внутри `dev`, командная строка автоматически подставит её имя.
>Останется только нажать `Enter`.
---

# Работа с Git
----
### __Инициализируем репозиторий__
`cd ~/dev/first-project` - перешли в нужную папку
`git init` - создали репозиторий 

### __"Разгитить" папку, если что-то пошло не так__
`cd <папка с репозиторием>` - перешли в папку
`rm -rf .git` - удалили подпапку .git 

* `-r` - позволяет удалять папки вместе с их содержимым;
* `-f` - избавит вас от вопросов вроде "Вы точно хотите удалить этот файл? И этот тоже?"

### __Проверить состояние репозитория__
* `git status` - показывает текущее состояние репозитория.

### __Добавляем файлы в репозиторий__
* `git add todo.txt` - подготовили файл `todo.txt` к сохранению в репозиторий;
* `git add --all` - позволяет подготовить к сохранению все файлы в репозитории;
* `git add .` - добавить всю текущую папку целиком.

   >Команда `git add` не сохраняет содержимое файлов в репозитории. Само сохранение, или фиксацию
>состояния файлов, называют коммитом. 
>«Сделать коммит» значит сохранить текущую версию файла. 

   >Если провести аналогию, команду `git add` можно сравнить с добавлением товаров в корзину в
>интернет-магазине, а коммит — с оформлением и оплатой заказа.

### __Делаем первый коммит__
* `git commit -m "Мой первый коммит!"` - это по сути список файлов с их контентом.

### __Просмотреть историю коммитов__
* `git log` - чтобы увидеть все коммиты.

## __GitHub__
> 1. Зайти в профиль;
> 2. Создать репозиторий (Repositories -> New);
> 3. Назовите его;
> 4. Выбрать уровень доступа;
> 5. Create repository.

## __Генерируем SSH-ключ__
----
### __Проверка наличия SSH-ключа__
* `cd ~` - перешли в домашнюю директорию
* `ls -la .ssh/` - вывести список созданных ключей

### __Инструкция по генерации SSH-ключа__
1. 
> Генерация SSH-пары
* `ssh-keygen -t ed25519 -C "электронная почта, к которой привязан ваш аккаунт на GitHub"`

> Если вы видите сообщение об ошибке, то, скорее всего, ваша система не поддерживает алгоритм шифрования `ed25519`.
> Ничего страшного: используйте другой алгоритм.
* `ssh-keygen -t rsa -b 4096 -C "электронная почта, к которой привязан ваш аккаунт на GitHub"`

2.
> Укажите место хранения ключей. Простой вариант — сделать домашний каталог пользователя путём по умолчанию. Для этого нажмите `Enter`.
> Enter a file in which to save the key (/Users/you/.ssh/id_rsa): [Press enter] 

3.
>Программа запросит кодовую фразу (англ. passphrase) для доступа к SSH-ключу. 
>Вы можете оставить поле пустым. Для этого нажмите `Enter`, а затем ещё раз `Enter` для подтверждения.

4.
> Проверить, что ключи действительно сгенерировались. Для этого вызовите эту команду.
`ls -a ~/.ssh`

>  На экране должны появиться два файла — один с расширением `.pub`, другой — без. 
>  Файл в `.pub` — публичный, им можно делиться с веб-сайтами или коллегами. 
>  Файл без расширения `.pub` — приватный.

### __Привязываем SSH-ключ к GitHub__
1.
* скопировать содержимое ключа в буфер обмена:
`pbcopy < ~/.ssh/id_rsa.pub`
* для ed25519:
`pbcopy < ~/.ssh/id_ed255`

> Здесь используется команда `pbcopy` — она копирует поток данных в буфер обмена. 
> Запись `pbcopy < ~/.ssh/id_rsa.pub` означает: «Скопируй в буфер обмена всё содержимое файла `~/.ssh/id_rsa.pub`».
> В качестве альтернативы вы можете распечатать файл на экран с помощью `cat ~/.ssh/id_rsa.pub` и скопировать его вручную;

2. Перейдите на GitHub и выберите пункт Settings в меню аккаунта;
3. В меню слева нажмите на пункт SSH and GPG keys;
4. В открывшейся вкладке выберите New SSH key;
5. В поле Title напишите название ключа. Например, Personal key;
6. В поле Key type должно быть Authentication Key;
7. В поле Key скопируйте ваш ключ из буфера обмена;
8. Нажмите на кнопку Add SSH key;
9. Проверьте правильность ключа с помощью следующей команды;
`ssh -T git@github.com`

> Для подтверждения подлинности сервер генерирует и публикует ключи SHA256. Вы можете проверить ключи GitHub по этой ссылке: (https://docs.github.com/en/authentication/keeping-your-account-and-data-secure/githubs-ssh-key-fingerprints "Проверка ключей"). 
> Если ключ в предупреждении совпадает с тем, что вы видите на сайте, значит, сервер является действительным. 
> Введите yes, чтобы продолжить. Вы увидите приветствие на экране.
----
## __Привязать удалённый аккаунт к локальному__

> Перейдите на страницу удалённого репозитория, выберите тип SSH и скопируйте URL.
> Откройте консоль, перейдите в каталог локального репозитория и введите команду `git remote add`
```
cd ~/dev/first-project # перейти в папку проекта
git remote add origin git@github.com:%ИМЯ_АККАУНТА%/first-project.git
```
> `origin` — стандартный псевдоним, с помощью которого можно обращаться к главному удалённому репозиторию (обычно такой репозиторий один)


### __Убедиться что репозитории связаны__
* `git remote -v`


## __Синхронизируем локальный и удалённый репозитории__
### __Отправить изменения на удалённый репозиторий__
* `git push -u origin main` - первый пуш нужно писать с флагом `-u` который свяжет локальную ветку с одноименной удалённой.
> Если команда приведёт к ошибке, попробуйте заменить main на master.  

## __Оформление README-файла Markdown__
[Markdown](https://github.com/sandino/Markdown-Cheatsheet.git) - ссылка на ресурс посвященный Markdown

## __Навигация по коммитам__
### Элементы описания коммитов
* `git log` - журнал коммитов

### Получить сокращенный лог
* `git log --oneline` - в терминале появятся только первые несколько символов хеша каждого коммита и их комментарии.
> если выход из просмотра логов не произошёл автоматически, нажмите клавишу `Q` в английской раскладке клавиатуры.

## HEAD
> Файл `HEAD` — один из служебных файлов папки `.git`. Он указывает на коммит, который сделан последним (то есть на самый новый).

### Посмотреть содержимое файла `HEAD` командой `cat`
* `pwd` - посмотрели, где мы
* `cd .git/`
* `ls` - посмотрели, какие есть файлы
* `cat HEAD` - команда cat показывает содержимое файла
> Внутри `HEAD` — ссылка на служебный файл: `refs/heads/master` (или `refs/heads/main` в зависимости от названия ветки). 
> Если заглянуть в этот файл, можно увидеть хеш последнего коммита.
* `cat refs/heads/master` - взяли ссылку из файла HEAD
> внутри хеш
* `e007f5035f113f9abca78fe2149c593959da5eb7`
* `git log`
> сверяем с хешем последнего коммита
```
commit e007f5035f113f9abca78fe2149c593959da5eb7
Author: John Doe <johndoe@example.com>
Date:   Tue Mar 28 00:26:53 2023 +0300

    Добавить амбиций в список дел
```

# __Статусы файлов в Git__
* `untracked` - «неотслеживаемый»;
   > Мы говорили, что новые файлы в Git-репозитории помечаются как `untracked`, то есть неотслеживаемые. 
   > Git «видит», что такой файл существует, но не следит за изменениями в нём. 
   > У `untracked`-файла нет предыдущих версий, зафиксированных в коммитах или через команду `git add`.

* `staged` - «подготовленный»;
   > После выполнения команды `git add` файл попадает в staging area (от англ. stage — «сцена», «этап [процесса]» и area —
   > «область»), то есть в список файлов, которые войдут в коммит. В этот момент файл находится в состоянии `staged`.
   
* `tracked` - «отслеживаемый»;
   > Состояние `tracked` — это противоположность `untracked`. Оно довольно широкое по смыслу: 
   > в него попадают файлы, которые уже были зафиксированы с помощью `git commit`, 
   > а также файлы, которые были добавлены в staging area командой `git add`. 
   > То есть все файлы, в которых Git так или иначе отслеживает изменения.
   
* `modified` - «изменённый».
   > Состояние `modified` означает, что Git сравнил содержимое файла с последней сохранённой версией и нашёл отличия. 
   > Например, файл был закоммичен и после этого изменён.

# __Жизненный цикл файла в Git__
1. Файл только что создали. Git ещё не отслеживает содержимое этого файла. Состояние: `untracked`.
2. Файл добавили в staging area с помощью `git add`. Состояние: `staged` (+ `tracked`).
   * Возможно, изменили файл ещё раз. Состояния: `staged`, `modified` (+ `tracked`).
     Обратите внимание: `staged` и `modified` у одного файла, но у разных его версий.
   * Ещё раз выполнили `git add`. Состояние: `staged` (+ `tracked`).
3. Сделали коммит с помощью `git commit`. Состояние: `tracked`.
4. Изменили файл. Состояние: `modified` (+ `tracked`).
5. Снова добавили в staging area с помощью `git add`. Состояния: `staged` (+ `tracked`).
6. Сделали коммит. Состояния: `tracked`.
7. Повторили пункты 4−7 много-много раз.

## __Как читать Git status__
> `git status` - показывает только следующие состояния файлов:
* `staged`(`Changes to be commited` в выводе `git status`);
* `modified`(`Changes not staged for commit`);
* `untracked`(`Untracked files`)

## __Сообщения к коммитам__
[Соглашение о коммитах](https://www.conventionalcommits.org/ru/v1.0.0-beta.4/#спецификация)

## __Как исправить коммит__
* `--amend` - внести правки в уже сделанный коммит
> Важно: опция `--amend` работает только с последним коммитом (`HEAD`). 
> Для исправления более ранних коммитов есть другие команды.

### __Дополнить коммит новыми файлами__
* `mkdir commit-amend-fun` - Создаем новую директорию;
* `cd commit-amend-fun` - переходим в нее;
* `git init` - инициализируем git;
* `touch main.html common.css` - создаем два файла;
* `git add main.html` - подготовили файл `main.html`;
* `git commit -m "Добавить главную страницу"` - коммитим;
> Файл `common.css` так и остался «висеть» в `untracked`. В этом легко убедиться, если вызвать `git status`.
* `git add common.css` - добавили файл common.css в список на коммит как обычно;
* `git commit --amend --no-edit` - дополнили последний коммит новым файлом 
> С опцией `--amend` команда `commit` не создаст новый коммит, а дополнит последний, просто добавив в него файл `common.css`. 
> При этом хеш последнего коммита изменится, потому что изменился список файлов в коммите.

> Обратите внимание на опцию `--no-edit`. Она сообщает команде `commit`, что сообщение коммита нужно оставить как было.
> Точно так же можно добавить не новый файл, а дополнительные изменения в уже добавленном в коммит файле.

## __Изменить сообщение коммита__
* `git commit --amend -m "Добавить главную страницу и стили"` - изменить сообщение последнего коммита
> Хеш коммита снова поменялся, потому что изменились сообщение и время коммита. 
> При этом файлы в коммите остались те же: `main.html` и `common.css`.

> Если забыть указать у команды `git commit --amend` один из флагов (`--no-edit` или `-m`), 
> Git предложит отредактировать сообщение коммита вручную. 
> Для этого он откроет текстовый редактор, который установлен в системе по умолчанию. 
> Чаще всего это либо GNU nano, либо Vim.

## Vim
> Выйти из редактора Vim
1. Нажмите клавишу `Esc`;
2. Наберите последовательность символов `:qa!`;
3. Нажмите `Enter`.

> Для запуска учебника на русском языке достаточно выполнить команду `vimtutor ru`



